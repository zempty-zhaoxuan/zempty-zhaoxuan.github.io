// Modern Sidebar Design - 现代化侧边栏设计
// 优化侧边栏的UI/UX，提供更好的布局界面

.wrapper-sidebar {
  background: var(--card-background) !important;
  border-right: 1px solid var(--card-border) !important;
  box-shadow: 2px 0 20px rgba(0, 0, 0, 0.05) !important;
  transition: all $transition-normal;
}

// 现代化的网站信息区域
.site-info {
  padding: $space-xl $space-lg !important;
  text-align: center;
  border-bottom: 1px solid var(--divider-color) !important;
  background: linear-gradient(135deg, var(--background-color), var(--background-lighten-color)) !important;
}

// 移除头像，优化网站名称显示
.site-avatar {
  display: none !important;
}

.site-name {
  margin: 0 0 $space-md !important;
  
  a {
    font-size: $font-size-2xl !important;
    font-weight: 800 !important;
    color: var(--link-color) !important;
    text-decoration: none !important;
    display: inline-block;
    transition: all $transition-normal;
    position: relative;
    
    &:hover {
      transform: translateY(-2px);
      color: var(--accent-color) !important;
    }
    
    // 添加装饰性下划线
    &::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 50%;
      transform: translateX(-50%);
      width: 60%;
      height: 3px;
      background: linear-gradient(90deg, var(--link-color), var(--accent-color));
      border-radius: 2px;
      opacity: 0.7;
    }
  }
}

.site-description {
  font-size: $font-size-sm !important;
  color: var(--blockquote-color) !important;
  line-height: 1.6 !important;
  margin: 0 !important;
  font-style: italic;
  padding: 0 $space-sm;
}

// 现代化导航样式
.navlist {
  padding: $space-lg 0 !important;
  
  nav {
    display: flex;
    flex-direction: column;
    gap: $space-xs;
    padding: 0 $space-lg;
    
    a {
      padding: $space-md $space-lg !important;
      margin: 0 !important;
      border-radius: 12px;
      color: var(--text-color) !important;
      text-decoration: none !important;
      font-weight: 500 !important;
      font-size: $font-size-base !important;
      transition: all $transition-normal;
      position: relative;
      display: flex;
      align-items: center;
      
      // 添加图标
      &::before {
        content: '';
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--blockquote-color);
        margin-right: $space-sm;
        transition: all $transition-normal;
      }
      
      &:hover {
        background: var(--background-lighten-color) !important;
        color: var(--link-color) !important;
        transform: translateX(4px);
        
        &::before {
          background: var(--link-color);
          transform: scale(1.5);
        }
      }
      
      &.active {
        background: var(--link-color) !important;
        color: white !important;
        font-weight: 600 !important;
        
        &::before {
          background: white;
          transform: scale(1.2);
        }
      }
    }
  }
}

// 现代化归档日历
.sidebar-archive {
  padding: $space-lg !important;
  border-top: 1px solid var(--divider-color) !important;
  
  .archive-calendar {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: $space-sm;
    
    .archive-month {
      text-decoration: none;
      
      .month-block {
        background: var(--background-lighten-color) !important;
        border: 1px solid var(--card-border) !important;
        border-radius: 8px;
        padding: $space-sm;
        text-align: center;
        transition: all $transition-normal;
        position: relative;
        overflow: hidden;
        
        &:hover {
          background: var(--link-color) !important;
          color: white;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .month-name {
          display: block;
          font-size: $font-size-sm;
          font-weight: 600;
          color: var(--text-color);
          margin-bottom: 2px;
        }
        
        .month-year {
          display: block;
          font-size: $font-size-xs;
          color: var(--blockquote-color);
          margin-bottom: 4px;
        }
        
        .post-count {
          display: inline-block;
          background: var(--link-color);
          color: white;
          padding: 2px 6px;
          border-radius: 10px;
          font-size: $font-size-xs;
          font-weight: 600;
          min-width: 20px;
        }
        
        &:hover {
          .month-name,
          .month-year {
            color: white;
          }
          
          .post-count {
            background: rgba(255, 255, 255, 0.2);
          }
        }
      }
    }
  }
}

// 现代化页脚
.wrapper-footer-desktop {
  padding: $space-lg !important;
  border-top: 1px solid var(--divider-color) !important;
  background: var(--background-lighten-color) !important;
  
  .footer {
    text-align: center;
    
    .svg-icon {
      width: 24px;
      height: 24px;
      margin: 0 $space-xs;
      transition: all $transition-normal;
      
      &:hover {
        transform: translateY(-2px) scale(1.1);
      }
    }
  }
}

// 移动端优化
@media (max-width: 767px) {
  .site-info {
    padding: $space-lg $space-md !important;
  }
  
  .site-name a {
    font-size: $font-size-xl !important;
  }
  
  .navlist {
    padding: $space-md 0 !important;
    
    nav {
      padding: 0 $space-md;
      
      a {
        padding: $space-sm $space-md !important;
      }
    }
  }
  
  .sidebar-archive {
    padding: $space-md !important;
    
    .archive-calendar {
      grid-template-columns: repeat(2, 1fr);
      gap: $space-xs;
      
      .month-block {
        padding: $space-xs;
      }
    }
  }
}

// 深色主题调整
.dark-theme {
  .wrapper-sidebar {
    background: var(--card-background) !important;
    border-right-color: var(--card-border) !important;
    box-shadow: 2px 0 20px rgba(0, 0, 0, 0.3) !important;
  }
  
  .site-info {
    background: linear-gradient(135deg, var(--background-color), var(--card-background)) !important;
  }
  
  .navlist nav a {
    &:hover {
      background: rgba(255, 255, 255, 0.05) !important;
    }
  }
  
  .archive-calendar .month-block {
    background: rgba(255, 255, 255, 0.03) !important;
    border-color: var(--card-border) !important;
    
    &:hover {
      background: var(--link-color) !important;
    }
  }
}

// 侧边栏收起状态的优化
.sidebar-collapsed {
  .wrapper-sidebar {
    transform: translateX(-100%);
  }
}

// 添加现代化的滚动条样式（仅在侧边栏内）
.wrapper-sidebar {
  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: var(--background-lighten-color);
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--blockquote-color);
    border-radius: 3px;
    
    &:hover {
      background: var(--link-color);
    }
  }
}