<div class="wrapper-sidebar" style="border: none; box-shadow: none; background-color: var(--background-color);">
  <!-- ç°ä»£åŒ–å“ç‰ŒåŒºåŸŸ -->
  <div class="site-branding">
    <h1 class="site-name"><a href="{{ site.baseurl }}/">{{ site.name }}</a></h1>
    <p class="site-description">{{ site.description }}</p>
  </div>

  <!-- ç°ä»£åŒ–å¯¼èˆªåŒºåŸŸ -->
  <nav class="modern-nav">
    {% for nav in site.navigation %}
      {% assign is_external = false %}
      {% if nav.url contains 'http://' or nav.url contains 'https://' %}
        {% assign is_external = true %}
      {% endif %}

      {% assign item_url = nav.url %}
      {% unless is_external %}
        {% assign item_url = nav.url | relative_url %}
      {% endunless %}

      {% assign is_active = false %}
      {% if page.url == item_url %}
        {% assign is_active = true %}
      {% endif %}
      {% if item_url == "/" and page.url == "/index.html" %}
         {% assign is_active = true %} {# Handle index page special case #}
      {% endif %}

      {% assign nav_icon = '' %}
      {% case nav.name %}
        {% when 'é¦–é¡µ' %}
          {% assign nav_icon = 'ğŸ ' %}
        {% when 'æ ‡ç­¾' %}
          {% assign nav_icon = 'ğŸ·ï¸' %}
        {% when 'å½’æ¡£' %}
          {% assign nav_icon = 'ğŸ“š' %}
        {% when 'å…³äº' %}
          {% assign nav_icon = 'ğŸ‘¤' %}
        {% else %}
          {% assign nav_icon = 'ğŸ“„' %}
      {% endcase %}

      <a href="{{ item_url }}" class="nav-item {% if is_active %}active{% endif %}">
        <span class="nav-icon">{{ nav_icon }}</span>
        {{ nav.name }}
      </a>
    {% endfor %}
  </nav>

  <!-- æœç´¢åŠŸèƒ½ -->
  <div class="sidebar-search">
    <div class="search-container">
      <input type="text" id="search-input" placeholder="æœç´¢æ–‡ç« ..." />
      <button id="search-btn">ğŸ”</button>
    </div>
    <div id="search-results" class="search-results"></div>
  </div>

  <!-- åšå®¢ç»Ÿè®¡ -->
  <div class="blog-stats">
    <div class="stat-item">
      <span class="stat-number">{{ site.posts.size }}</span>
      <span class="stat-label">ç¯‡æ–‡ç« </span>
    </div>
    <div class="stat-item">
      <span class="stat-number">{{ site.tags.size }}</span>
      <span class="stat-label">ä¸ªæ ‡ç­¾</span>
    </div>
  </div>

  <!-- çƒ­é—¨æ ‡ç­¾äº‘ -->
  <div class="popular-tags">
    <h4>ğŸ·ï¸ çƒ­é—¨æ ‡ç­¾</h4>
    <div class="tag-cloud">
      {% assign sorted_tags = site.tags | sort: site.tags.size | reverse %}
      {% for tag in sorted_tags limit:8 %}
      <a href="/tags#{{ tag[0] }}" class="tag-item" data-count="{{ tag[1].size }}">
        {{ tag[0] }}
        <span class="tag-count">{{ tag[1].size }}</span>
      </a>
      {% endfor %}
    </div>
  </div>

  <!-- æœ€æ–°æ–‡ç«  -->
  <div class="recent-posts">
    <h4>ğŸ“„ æœ€æ–°æ–‡ç« </h4>
    {% for post in site.posts limit:5 %}
    <div class="recent-post-item">
      <a href="{{ post.url }}">
        <span class="post-title">{{ post.title | truncate: 28 }}</span>
        <span class="post-date">{{ post.date | date: "%m-%d" }}</span>
      </a>
    </div>
    {% endfor %}
  </div>
  
  <!-- ç°ä»£åŒ–å½’æ¡£æ—¶é—´çº¿ -->
  <div class="archive-timeline responsive-hide">
    <h4>ğŸ“… æ–‡ç« å½’æ¡£</h4>
    {% assign post_months = site.posts | group_by_exp: "post", "post.date | date: '%Y-%m'" %}
    {% assign sorted_months = post_months | sort: "name" | reverse %}
    {% for month in sorted_months limit:8 %}
      {% assign month_date = month.name | split: "-" %}
      {% assign year = month_date[0] %}
      {% assign month_num = month_date[1] %}
      {% case month_num %}
        {% when '01' %}{% assign month_name = "ä¸€æœˆ" %}
        {% when '02' %}{% assign month_name = "äºŒæœˆ" %}
        {% when '03' %}{% assign month_name = "ä¸‰æœˆ" %}
        {% when '04' %}{% assign month_name = "å››æœˆ" %}
        {% when '05' %}{% assign month_name = "äº”æœˆ" %}
        {% when '06' %}{% assign month_name = "å…­æœˆ" %}
        {% when '07' %}{% assign month_name = "ä¸ƒæœˆ" %}
        {% when '08' %}{% assign month_name = "å…«æœˆ" %}
        {% when '09' %}{% assign month_name = "ä¹æœˆ" %}
        {% when '10' %}{% assign month_name = "åæœˆ" %}
        {% when '11' %}{% assign month_name = "åä¸€æœˆ" %}
        {% when '12' %}{% assign month_name = "åäºŒæœˆ" %}
      {% endcase %}
      <a href="{{ site.baseurl }}/archive/#{{ month.name }}" class="timeline-item">
        <div class="archive-date">{{ month_name }} {{ year }}</div>
        <span class="post-count">{{ month.items.size }}</span>
      </a>
    {% endfor %}
  </div>

  <div class="wrapper-footer-desktop" style="border: none; border-top: none; box-shadow: none; background-color: var(--background-color);">
    <footer class="footer">
      {% include footer.html %}
    </footer>
  </div>
</div>